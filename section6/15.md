# ContextAPI

## 01. Props Drilling

다음은 지금까지 우리가 만들어보았던 컴포넌트 계층구조입니다.

> 편의상 `DiaryEditor`, `DiaryItem`이 갖는 State들은 생략했습니다.

![](https://user-images.githubusercontent.com/46296754/139201176-ec665ec9-6452-4a80-9221-b0d87337bdd9.png)

아마 여러분이 `DiaryList`를 만들면서 느끼셨을 텐데, `DiaryList`는 3개의 props를 받지만 그중에 2개는 자신이 사용하지도 않습니다.

바로 아래 자식 컴포넌트가 해당 prop을 받아서 사용하였기에 망정이지, 만약 그아래 .. 그아래로 prop을 계속 내려보내줘야 했다면 정말 복잡하고 수정하기 힘든 코드가 될 것 입니다.

![](https://user-images.githubusercontent.com/46296754/139201541-5375b109-21a3-4593-b2aa-e2b534023199.png)

마치 위 그림처럼, 전달만 하는 컴포넌트가 중간에 많이 생기게 될 경우 props의 이름도 쉽게 바꾸기 어려워지며 코드 작성과 수정에 상당한 약영향을 끼칩니다.

이러한 상황을 props가 마치 드릴처럼 땅을 파고 들어간다고 하여 **Props Drilling**이라고 부릅니다.

이것은 우리가 부모에서 자식으로만 데이터를 전달하는 단방향 데이터흐름을 지키려다 보니 발생하게 된 문제라고도 생각할 수 있습니다.

이런 문제를 해결하기 위해서 이런 생각을 한 사람이 있습니다.

![](https://user-images.githubusercontent.com/46296754/139202765-6cd578d4-a65f-43f6-afa1-4591789ae1c7.png)

글로벌한 저장소를 따로 마련하고 데이터를 나의 바로 위 부모컴포넌트에게 받는게 아니라, 거기서 받아온다면 어떨까요?

우리가 만들어 본 React 일기 어플리케이션에는 다음과 같이 적용되겠군요

![](https://user-images.githubusercontent.com/46296754/139202677-bebcd54c-7123-492c-bab1-a7046598af87.png)

이렇게 되면 확실히 편해집니다.

쓸데없이 props를 전달만 하는 일도 없어지고, props를 전달하는 코드들도 사라지니 코드도 매우 깔끔해지고 가독성도 좋아집니다.

## 02. ContextAPI

ContextAPI는 위에서 살펴본 아이디어를 토대로 탄생했습니다.
