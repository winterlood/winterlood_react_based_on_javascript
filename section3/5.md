# 비 구조화 할당

비 구조화 할당 = 구조 분해 할당은 배열이나 객체의 속성을 해체하듯이 개별 변수에 값을 담을 수 있게 하는 자바스크립트의 표현식입니다.

너무 표현이 어려운가요?

그냥 단순하게, 객체나 배열과 같은 여러개의 요소가 들어있는 상태에서 내가 원하는 값을 꺼낼수 있는 표현식이라고 생각하시면 됩니다.

## 01. 배열의 비 구조화 할당

### 1-1. 기본 변수 할당

```javascript
let arr = ["one", "two", "three"];

let [one, two, three] = arr;
console.log(one); // "one"
console.log(two); // "two"
console.log(three); // "three"
```

다음은 배열을 비 구조화 할당하여 변수에 각각 값을 할당하는 예제입니다.

여기서 우리가 집중해서 봐야하는 구문은 아래와 같습니다

```javascript
let [one, two, three] = arr;
```

arr 배열에는 3개의 요소가 들어있고, 해당 요소를 순서대로 `one` `two` `three` 변수에 할당하고 있음을 알 수 있습니다.

### 1-2. 선언 분리 할당

> 용어가 너무 어렵게 느껴져도 걱정하지 마세요! 내용은 아주 쉽습니다!

아래는 변수의 선언을 분리하여, 비 구조화 할당을 통해 값을 할당한 예제입니다.

```javascript
let a, b;

[a, b] = [1, 2];
console.log(a); // 1
console.log(b); // 2
```

여기서 우리가 집중해서 봐야하는 구문은 아래와 같습니다

```javascript
[a, b] = [1, 2];
```

어렵게 느낄 필요 없습니다.

`[1,2]` 두개의 요소를 담은 배열을 순서대로 `a` `b`에 할당하는 표현입니다.

### 1-3. 기본값

배열의 길이는 1인데, 2개의 변수를 할당받고자 비 구조화 할당을 시도하면 어떻게 될까요?

오류는 발생하지 않지만 할당받지 못한 변수의 값은 undefined이 됩니다.

```javascript
let arr = [1];
let a, b;

[a, b] = arr;
console.log(a); // 1
console.log(b); // undefined
```

그런데, undefined가 할당되면 안되는 상황이 충분히 존재할 수 있습니다 이럴때는 아래와 같이 기본값을 설정하여 할당받지 못한 변수가 undefined대신 기본값을 할당받도록 할 수 있습니다.

```javascript
let arr = [1];
let a, b;

[a = 5, b = 7] = arr;
console.log(a); // 1
console.log(b); // 7
```

### 1-4. 교환(swap)

프로그래밍 언어 중 C언어를 배울 때 Swap 함수를 꼭 만들어보는데요, 임시 저장변수인 `temp`등을 사용해야 해서 귀찮고 힘들었던 상황이 있었을 겁니다.

> 위는 몰라도 상관없는 이야기입니다.

교환(swap)은 두 변수가 가진 값을 서로 바꾸는 것을 의미합니다

우리는 비 구조화 할당을 통하여 다음과 같이 변수의 값을 교환할 수 있습니다.

```javascript
var a = 1;
var b = 3;

[a, b] = [b, a];
console.log(a); // 3
console.log(b); // 1
```

## 02. 객체의 비 구조화 할당

### 2-1. 기본 할당

객체의 기본 비 구조화 할당은 React.js를 사용하면서 매우 자주 사용하게될 표현입니다.

객체의 비 구조화 할당은 배열의 그것과는 다르게, 순서가 아닌 Key값을 기준으로 할당합니다.

```javascript
var o = { a: "5", p: 42, q: true };
var { p, q } = o;

console.log(p); // 42
console.log(q); // true
```

위의 예제를 통해 우리는 객체는 Key값을 통해 값을 비 구조화 할당 한다는 것을 알 수 있습니다.

> 배열과 다르게 a가 가장 앞에있는데도, Key값을 명시하지 않았기에 할당되지 않았습니다.

### 2-2. 할당하면서 변수이름 바꾸기

가끔은 객체내의 Key의 이름이 맘에 안들때가 존재합니다.

이럴때 우리는 다음 표현식을 통해 할당과 동시에 이름을 변경할 수 있습니다.

```javascript
var o = { p: 42, q: true };
var { p: foo, q: bar } = o;

console.log(foo); // 42
console.log(bar); // true
```

p를 foo로, q를 bar로 이름을 바꿔 할당한 것을 볼 수 있습니다.

### 2-3. 기본값

객체 비 구조화 할당 또한, 다음과 같이 기본값을 설정할 수 있습니다.

```javascript
var { a = 10, b = 5 } = { a: 3 };

console.log(a); // 3
console.log(b); // 5
```
